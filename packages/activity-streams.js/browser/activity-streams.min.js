!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Activity=t()}}(function(){return function t(e,r,n){function i(s,c){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var r=e[s][1][t];return i(r?r:t)},f,f.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e){var r=t("event-emitter"),n=t("array-keys"),i=new n({identifier:"id"}),o=new n({identifier:"id"}),s=r(),c={create:function(t){var e=!1;try{e=i.addRecord(t)}catch(r){throw new Error(r)}return e&&s.emit("activity-stream-create",t),e},"delete":function(t){var e=i.removeRecord(t);return e&&s.emit("activity-stream-delete",t),e},get:function(t){return i.getRecord(t)}},u={create:function(t){var e=!1;try{e=o.addRecord(t)}catch(r){throw new Error(r)}return e&&s.emit("activity-object-create",t),e},"delete":function(t){var e=o.removeRecord(t);return e&&s.emit("activity-object-delete",t),e},get:function(t){return o.getRecord(t)},getByType:function(){o.forEach(function(){})}};e.exports={Stream:c,Object:u,on:function(t,e){return s.on(t,e)},once:function(t,e){return s.once(t,e)},off:function(t,e){return s.off(t,e)}}},{"array-keys":2,"event-emitter":3}],2:[function(t,e){function r(t){"object"!=typeof t&&(t={}),this.identifier=t.identifier||"id",this.store=[],this.idx=[]}r.prototype.getIdentifiers=function(){for(var t=[],e=this.store.length-1;e>=0;e-=1)t[t.length]=this.store[e][this.identifier];return t},r.prototype.getRecord=function(t){for(var e=this.store.length-1;e>=0;e-=1)if(this.store[e][this.identifier]===t)return this.store[e];return void 0},r.prototype.exists=function(t){return this.idx.getIndex(t)>=0?!0:!1},r.prototype.getIndex=function(t){for(i=this.idx.length-1;i>=0;i-=1)if(this.idx[i]===t)return i;return-1},r.prototype.addRecord=function(t){if("object"!=typeof t)throw new Error("cannot add non-object records.");if(!t[this.identifier])throw new Error("cannot add a record with no `"+this.identifier+"` property specified.");return this.removeRecord(t[this.identifier]),this.idx[this.idx.length]=t[this.identifier],this.store[this.store.length]=t,!0},r.prototype.removeRecord=function(t){var e=this.getIndex(t);if(0>e)return!1;var r;for(r=e;0!==r;r-=1)if(this.store[r][this.identifier]===t)return this.store.splice(r,1),this.idx.splice(e,1),!0;for(r=this.store.length-1;r!==e;r-=1)if(this.store[r][this.identifier]===t)return this.store.splice(r,1),this.idx.splice(e,1),!0;return!1},r.prototype.forEachRecord=function(t){var e=0,r=this,n=function(){};return setTimeout(function(){for(var i=r.store.length-1;i>=0;i-=1)e+=1,t(r.store[i]);n(e)},0),{"finally":function(t){n=t}}},r.prototype.getCount=function(){return this.store.length},e.exports=r},{}],3:[function(t,e,r){"use strict";var n,i,o,s,c,u,f,a=t("d"),l=t("es5-ext/object/valid-callable"),d=Function.prototype.apply,h=Function.prototype.call,p=Object.create,y=Object.defineProperty,g=Object.defineProperties,m=Object.prototype.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var r;return l(e),m.call(this,"__ee__")?r=this.__ee__:(r=v.value=p(null),y(this,"__ee__",v),v.value=null),r[t]?"object"==typeof r[t]?r[t].push(e):r[t]=[r[t],e]:r[t]=e,this},i=function(t,e){var r,i;return l(e),i=this,n.call(this,t,r=function(){o.call(i,t,r),d.call(e,this,arguments)}),r.__eeOnceListener__=e,this},o=function(t,e){var r,n,i,o;if(l(e),!m.call(this,"__ee__"))return this;if(r=this.__ee__,!r[t])return this;if(n=r[t],"object"==typeof n)for(o=0;i=n[o];++o)(i===e||i.__eeOnceListener__===e)&&(2===n.length?r[t]=n[o?0:1]:n.splice(o,1));else(n===e||n.__eeOnceListener__===e)&&delete r[t];return this},s=function(t){var e,r,n,i,o;if(m.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),e=1;r>e;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;n=i[e];++e)d.call(n,this,o)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),e=1;r>e;++e)o[e-1]=arguments[e];d.call(i,this,o)}},c={on:n,once:i,off:o,emit:s},u={on:a(n),once:a(i),off:a(o),emit:a(s)},f=g({},u),e.exports=r=function(t){return null==t?p(f):g(Object(t),u)},r.methods=c},{d:4,"es5-ext/object/valid-callable":13}],4:[function(t,e){"use strict";var r,n=t("es5-ext/object/assign"),i=t("es5-ext/object/normalize-options"),o=t("es5-ext/object/is-callable"),s=t("es5-ext/string/#/contains");r=e.exports=function(t,e){var r,o,c,u,f;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(r=c=!0,o=!1):(r=s.call(t,"c"),o=s.call(t,"e"),c=s.call(t,"w")),f={value:e,configurable:r,enumerable:o,writable:c},u?n(i(u),f):f},r.gs=function(t,e,r){var c,u,f,a;return"string"!=typeof t?(f=r,r=e,e=t,t=null):f=arguments[3],null==e?e=void 0:o(e)?null==r?r=void 0:o(r)||(f=r,r=void 0):(f=e,e=r=void 0),null==t?(c=!0,u=!1):(c=s.call(t,"c"),u=s.call(t,"e")),a={get:e,set:r,configurable:c,enumerable:u},f?n(i(f),a):a}},{"es5-ext/object/assign":5,"es5-ext/object/is-callable":8,"es5-ext/object/normalize-options":12,"es5-ext/string/#/contains":15}],5:[function(t,e){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":6,"./shim":7}],6:[function(t,e){"use strict";e.exports=function(){var t,e=Object.assign;return"function"!=typeof e?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],7:[function(t,e){"use strict";var r=t("../keys"),n=t("../valid-value"),i=Math.max;e.exports=function(t,e){var o,s,c,u=i(arguments.length,2);for(t=Object(n(t)),c=function(r){try{t[r]=e[r]}catch(n){o||(o=n)}},s=1;u>s;++s)e=arguments[s],r(e).forEach(c);if(void 0!==o)throw o;return t}},{"../keys":9,"../valid-value":14}],8:[function(t,e){"use strict";e.exports=function(t){return"function"==typeof t}},{}],9:[function(t,e){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":10,"./shim":11}],10:[function(t,e){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],11:[function(t,e){"use strict";var r=Object.keys;e.exports=function(t){return r(null==t?t:Object(t))}},{}],12:[function(t,e){"use strict";var r,n=t("./assign"),i=Array.prototype.forEach,o=Object.create,s=Object.getPrototypeOf;r=function(t,e){var i=s(t);return n(i?r(i,e):e,t)},e.exports=function(){var t=o(null);return i.call(arguments,function(e){null!=e&&r(Object(e),t)}),t}},{"./assign":5}],13:[function(t,e){"use strict";e.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},{}],14:[function(t,e){"use strict";e.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},{}],15:[function(t,e){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":16,"./shim":17}],16:[function(t,e){"use strict";var r="razdwatrzy";e.exports=function(){return"function"!=typeof r.contains?!1:r.contains("dwa")===!0&&r.contains("foo")===!1}},{}],17:[function(t,e){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}},{}]},{},[1])(1)});