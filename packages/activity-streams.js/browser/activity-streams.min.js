!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Activity=e()}}(function(){var e;return function t(e,n,r){function i(c,s){if(!n[c]){if(!e[c]){var u="function"==typeof require&&require;if(!s&&u)return u(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}var a=n[c]={exports:{}};e[c][0].call(a.exports,function(t){var n=e[c][1][t];return i(n?n:t)},a,a.exports,t,e,n,r)}return n[c].exports}for(var o="function"==typeof require&&require,c=0;c<r.length;c++)i(r[c]);return i}({1:[function(e,t){var n=e("event-emitter"),r=e("array-keys"),i=new r({identifier:"id"}),o=new r({identifier:"id"});ee=n();var c={create:function(e){var t=!1;try{t=i.addRecord(e)}catch(n){throw new Error(n)}return t&&ee.emit("activity-stream-create",e),t},"delete":function(e){var t=i.removeRecord(e);return t&&ee.emit("activity-stream-delete",e),t},get:function(e){return i.getRecord(e)}},s={create:function(e){var t=!1;try{t=o.addRecord(e)}catch(n){throw new Error(n)}return t&&ee.emit("activity-object-create",e),t},"delete":function(e){var t=o.removeRecord(e);return t&&(console.log("emitting event"),ee.emit("activity-object-delete",e)),t},get:function(e){return o.getRecord(e)}};t.exports={Stream:c,Object:s,on:function(e,t){return ee.on(e,t)},once:function(e,t){return ee.once(e,t)},off:function(e,t){return ee.off(e,t)}}},{"array-keys":2,"event-emitter":3}],2:[function(t,n){!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=t(e.document?e:{}):t(e)}("undefined"!=typeof window?window:this,function(t,n){function r(e){"object"!=typeof e&&(e={}),this.identifier=e.identifier||"id",this.idx=[]}return r.prototype.getIdentifiers=function(){for(var e=[],t=this.idx.length-1;t>=0;t--)e.push(this.idx[t][this.identifier]);return e},r.prototype.getRecord=function(e){for(var t=this.idx.length-1;t>=0;t--)if(""+this.idx[t][this.identifier]==""+e)return this.idx[t];return n},r.prototype.addRecord=function(e){if("object"!=typeof e)throw new Error("cannot add non-object records.");if(!e[this.identifier])throw new Error("cannot add a record with no `"+this.identifier+"` property specified.");return this.removeRecord(e[this.identifier]),this.idx.push(e),!0},r.prototype.removeRecord=function(e){for(var t=this.idx.length-1;t>=0;t--)if(""+this.idx[t][this.identifier]==""+e)return this.idx.splice(t,1),!0;return!1},r.prototype.forEachRecord=function(e){for(var t=this.idx.length-1;t>=0;t--)e(this.idx[t])},r.prototype.getCount=function(){return this.idx.length},"function"==typeof e&&e.amd&&e([],function(){return r}),t.ArrayKeys=r,r})},{}],3:[function(e,t,n){"use strict";var r,i,o,c,s,u,a,f=e("d"),l=e("es5-ext/object/valid-callable"),d=Function.prototype.apply,p=Function.prototype.call,h=Object.create,y=Object.defineProperty,m=Object.defineProperties,v=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return l(t),v.call(this,"__ee__")?n=this.__ee__:(n=g.value=h(null),y(this,"__ee__",g),g.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},i=function(e,t){var n,i;return l(t),i=this,r.call(this,e,n=function(){o.call(i,e,n),d.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o=function(e,t){var n,r,i,o;if(l(t),!v.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(r=n[e],"object"==typeof r)for(o=0;i=r[o];++o)(i===t||i.__eeOnceListener__===t)&&(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else(r===t||r.__eeOnceListener__===t)&&delete n[e];return this},c=function(e){var t,n,r,i,o;if(v.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)d.call(r,this,o)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];d.call(i,this,o)}},s={on:r,once:i,off:o,emit:c},u={on:f(r),once:f(i),off:f(o),emit:f(c)},a=m({},u),t.exports=n=function(e){return null==e?h(a):m(Object(e),u)},n.methods=s},{d:4,"es5-ext/object/valid-callable":13}],4:[function(e,t){"use strict";var n,r=e("es5-ext/object/assign"),i=e("es5-ext/object/normalize-options"),o=e("es5-ext/object/is-callable"),c=e("es5-ext/string/#/contains");n=t.exports=function(e,t){var n,o,s,u,a;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=s=!0,o=!1):(n=c.call(e,"c"),o=c.call(e,"e"),s=c.call(e,"w")),a={value:t,configurable:n,enumerable:o,writable:s},u?r(i(u),a):a},n.gs=function(e,t,n){var s,u,a,f;return"string"!=typeof e?(a=n,n=t,t=e,e=null):a=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(a=n,n=void 0):(a=t,t=n=void 0),null==e?(s=!0,u=!1):(s=c.call(e,"c"),u=c.call(e,"e")),f={get:t,set:n,configurable:s,enumerable:u},a?r(i(a),f):f}},{"es5-ext/object/assign":5,"es5-ext/object/is-callable":8,"es5-ext/object/normalize-options":12,"es5-ext/string/#/contains":15}],5:[function(e,t){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":6,"./shim":7}],6:[function(e,t){"use strict";t.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],7:[function(e,t){"use strict";var n=e("../keys"),r=e("../valid-value"),i=Math.max;t.exports=function(e,t){var o,c,s,u=i(arguments.length,2);for(e=Object(r(e)),s=function(n){try{e[n]=t[n]}catch(r){o||(o=r)}},c=1;u>c;++c)t=arguments[c],n(t).forEach(s);if(void 0!==o)throw o;return e}},{"../keys":9,"../valid-value":14}],8:[function(e,t){"use strict";t.exports=function(e){return"function"==typeof e}},{}],9:[function(e,t){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":10,"./shim":11}],10:[function(e,t){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],11:[function(e,t){"use strict";var n=Object.keys;t.exports=function(e){return n(null==e?e:Object(e))}},{}],12:[function(e,t){"use strict";var n,r=e("./assign"),i=Array.prototype.forEach,o=Object.create,c=Object.getPrototypeOf;n=function(e,t){var i=c(e);return r(i?n(i,t):t,e)},t.exports=function(){var e=o(null);return i.call(arguments,function(t){null!=t&&n(Object(t),e)}),e}},{"./assign":5}],13:[function(e,t){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],14:[function(e,t){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],15:[function(e,t){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":16,"./shim":17}],16:[function(e,t){"use strict";var n="razdwatrzy";t.exports=function(){return"function"!=typeof n.contains?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},{}],17:[function(e,t){"use strict";var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}},{}]},{},[1])(1)});