/* activity-streams.js v0.0.1 | (c) 2012-2014 Nick Jennings | License: MIT | https://github.com/silverbucket/activity-streams.js */
(function(w,undefined){var scope={};!function(t,i){"object"==typeof module&&"object"==typeof module.exports?module.exports=i(t.document?t:{}):i(t)}("undefined"!=typeof window?window:this,function(t,i){function e(t){"object"!=typeof t&&(t={}),this.identifier=t.identifier||"id",this.idx=[]}return e.prototype.getIdentifiers=function(){for(var t=[],i=this.idx.length-1;i>=0;i--)t.push(this.idx[i][this.identifier]);return t},e.prototype.getRecord=function(t){for(var e=this.idx.length-1;e>=0;e--)if(""+this.idx[e][this.identifier]==""+t)return this.idx[e];return i},e.prototype.addRecord=function(t){if("object"!=typeof t)throw new Error("cannot add non-object records.");if(!t[this.identifier])throw new Error("cannot add a record with no `"+this.identifier+"` property specified.");return this.removeRecord(t[this.identifier]),this.idx.push(t),!0},e.prototype.removeRecord=function(t){for(var i=this.idx.length-1;i>=0;i--)if(""+this.idx[i][this.identifier]==""+t)return this.idx.splice(i,1),!0;return!1},e.prototype.forEachRecord=function(t){for(var i=this.idx.length-1;i>=0;i--)t(this.idx[i])},e.prototype.getCount=function(){return this.idx.length},"function"==typeof define&&define.amd&&define([],function(){return e}),t.ArrayKeys=e,e});!function(e){var r,t,o={create:function(e){return r.addRecord(e)},"delete":function(e){return r.removeRecord(e)},get:function(e){return r.getRecord(e)}},n={create:function(e){return t.addRecord(e)},"delete":function(e){return t.removeRecord(e)},get:function(e){return t.getRecord(e)}};if("object"==typeof module)e.ArrayKeys=require("array-keys"),module.exports={Stream:o,Object:n};else{if(!e.ArrayKeys)throw new Error("activity-stream.js depends on the array-keys module.");e.Activity={Stream:o,Object:n}}r=new e.ArrayKeys({identifier:"id"}),t=new e.ArrayKeys({identifier:"id"})}("object"==typeof scope?scope:{});w.Activity=scope.Activity;})(window);
